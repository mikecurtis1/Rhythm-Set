<!DOCTYPE html>
<html>
<head>
<title>RhythmSet</title>
<link rel="stylesheet" type="text/css" href="random.css" media="screen" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body>
<h1>Rhythm Set Random Permutation</h1>
<ul>
<li>5 rhythmic modes in 4 voices for 2 measures.</li>
<li>5^4 = (5 x 5 x 5 x 5) = 625. 625 x 2 = 1,250 permutations!</li>
</ul>
<div id="tuples">
<div><img id="1.1" src="" /><img id="2.1" src="" /></div>
<div><img id="1.2" src="" /><img id="2.2" src="" /></div>
<div><img id="1.3" src="" /><img id="2.3" src="" /></div>
<div><img id="1.4" src="" /><img id="2.4" src="" /></div>
</div>
<form class="search" onsubmit="return false">
<p>Select a meter:</p>
<input type="radio" name="meter" value="24">
<label for="24">2/4, </label>
<input type="radio" name="meter" value="34">
<label for="34">3/4, </label>
<input type="radio" name="meter" value="68">
<label for="68">6/8, </label>
<input type="submit" id="submit" value="Submit">
</form>
<script>
const arr = ['1','2','3','4','5'];
var voices = 4;
function getRhythmicMode(len){
	var r = Math.floor(Math.random()*len);
	return arr[r];
}
for (let i = 0; i < voices; i++) {
	getRhythmicMode(arr.length);
}
const submit = document.getElementById('submit');
submit.addEventListener('click', generateHTML);
function generateHTML(){
	meter='24';
	document.getElementsByName('meter').forEach(node => {if(node.checked){meter=node.value;}});
	document.getElementById("1.1").src = 'img/mode' + meter + getRhythmicMode(arr.length) + '.png';
	document.getElementById("1.2").src = 'img/mode' + meter + getRhythmicMode(arr.length) + '.png';
	document.getElementById("1.3").src = 'img/mode' + meter + getRhythmicMode(arr.length) + '.png';
	document.getElementById("1.4").src = 'img/mode' + meter + getRhythmicMode(arr.length) + '.png';
	document.getElementById("2.1").src = 'img/mode' + meter + getRhythmicMode(arr.length) + '.png';
	document.getElementById("2.2").src = 'img/mode' + meter + getRhythmicMode(arr.length) + '.png';
	document.getElementById("2.3").src = 'img/mode' + meter + getRhythmicMode(arr.length) + '.png';
	document.getElementById("2.4").src = 'img/mode' + meter + getRhythmicMode(arr.length) + '.png';
}
</script>
</body>
</html>
